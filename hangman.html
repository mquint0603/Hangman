<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
        Press any key to guess!
        <!-- <input type="text" id="guessForm"> 
        <button type="button" onclick="myFunction()">Submit</button> -->
        
    <p id="blanks"></p>
    <h3>Remaining Tries:</h3>
    <p id="triesRemaining"></p>
    <h3>Letters remaining:</h3>
    <p id="lettersRemaining"></p>
    <h3>Letters already guessed:</h3>
    <p id="letterBank"></p>
    <h3>Wins</h3>
    <p id="wins"></p>
    <h3>Losses</h3>
    <p id="losses"></p>


    <script>
        
        
const wordArray = ['rooibos', 'peppermint', 'chai', 'jasmine', 'green', 'black'];
var winCount = 0;
var lossCount = 0;
document.getElementById('losses').innerHTML = lossCount;
document.getElementById('wins').innerHTML = winCount;



function resetGame(){
    word = wordArray [Math.floor(Math.random() * wordArray.length)];
    console.log(word);
    blanks = [];
    //sets up blanks equal to word length
    for (var i = 0; i < word.length; i++) {
    blanks[i] = "_";
    }
    document.querySelector('#blanks').innerHTML = blanks.join(' ');

    alreadyGuessed = [];
    remainingLetters = word.length
    remainingTries = word.length + 5;

    document.getElementById('letterBank').innerHTML = alreadyGuessed;
    document.querySelector('#triesRemaining').innerHTML = remainingTries;
    document.querySelector('#lettersRemaining').innerHTML = remainingLetters;
}

resetGame()


document.onkeyup = function(event){ 
    var guess = event.key;
    guess = guess.toLowerCase();
    if (alreadyGuessed.indexOf(guess) < 0){
        alreadyGuessed.push(guess);   
        document.getElementById('letterBank').innerHTML = alreadyGuessed.join(' ');

         //if the guess if right...
        if (word.indexOf(guess) > -1 ){
            console.log('yay');
            for ( i= 0; i < word.length;  i++){
                if (word[i] === guess) {
                blanks[i] = guess + " ";
                remainingLetters--;
                document.querySelector('#blanks').innerHTML = blanks.join(' ');
                document.querySelector('#lettersRemaining').innerHTML = remainingLetters;
                }
            }             
        } else {
            remainingTries--;
            document.querySelector('#triesRemaining').innerHTML = remainingTries;
        }

    } else{
        console.log("You already guessed this letter")
    }


    //win/lose scenarios
    if (remainingTries === 0){
         lossCount++;
         document.getElementById('losses').innerHTML = lossCount;
         resetGame();
    } else if (remainingLetters === 0){
        winCount++;
        document.getElementById('wins').innerHTML = winCount;
        resetGame()
    }
}
  
        </script>
</body>
</html>